<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kuncms.coverphoto.dao.CoverphotoDao" >



	 <select id="queryCoverPhotoById"  parameterType="com.kuncms.coverphoto.model.Coverphoto"  resultType="com.kuncms.coverphoto.model.Coverphoto">
        SELECT*FROM coverphoto a
        <where>
			<if test="id != null and id != ''">
				AND a.id = #{id}
			</if>
		</where>
				
     </select>


    <select id="queryCoverPhoto"  parameterType="com.kuncms.coverphoto.model.Coverphoto"  resultType="com.kuncms.coverphoto.model.Coverphoto">
        SELECT*FROM coverphoto
     </select>
     
     <select id="queryIndexCoverPhoto"  parameterType="com.kuncms.coverphoto.model.Coverphoto"  resultType="com.kuncms.coverphoto.model.Coverphoto">
        SELECT*FROM coverphoto c  
        <where>
			c.flag="1"
		</where>
		ORDER BY c.create_time desc limit 0,9;
     </select>
    
    
    <insert id="insert"  parameterType="com.kuncms.coverphoto.model.Coverphoto">
		insert into coverphoto(id,coverphotoid,baiduyun_address,baiduyun_pass,video_name,create_time,createby,update_time,updateby,flag,clicksï¼Œdownloads) 
		   values(#{id},#{coverphotoid},#{baiduyun_address},#{baiduyun_pass},#{video_name},#{create_time},#{createby},#{update_time},#{updateby},#{flag},#{clicks},#{downloads})
 	</insert>
 	
 	<update id="updateCoverPhotoById" parameterType="com.kuncms.coverphoto.model.Coverphoto">
 	
 	    update coverphoto a set 
 	    <if test="clicks != null and clicks != ''">
				a.clicks=#{clicks}
		</if>
		<if test="downloads != null and downloads != ''">
				,a.downloads=#{downloads}
		</if>
        <where>
			<if test="id != null and id != ''">
				AND a.id = #{id}
			</if>
		</where>
 	
 	
 	</update>
  

</mapper>